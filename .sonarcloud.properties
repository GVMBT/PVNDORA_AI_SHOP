# SonarCloud Configuration for Automatic Analysis
# This file is used when Automatic Analysis is enabled via GitHub App
# https://docs.sonarsource.com/sonarcloud/analyzing-source-code/languages/python/

# Python version (required for accurate analysis)
# Format: X.Y (e.g., 3.8, 3.9, 3.10, 3.11, 3.12)
sonar.python.version=3.12

# Exclude SQL migration files from various rules
# Migrations are historical records and cannot be modified after deployment
# They also cannot use constants in standard SQL syntax

# Ignore literal duplication in SQL migrations
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# S1192: String literals should not be duplicated
sonar.issue.ignore.multicriteria.e1.ruleKey=sql:S1192
sonar.issue.ignore.multicriteria.e1.resourceKey=supabase/migrations/**

# S3649: Refactor to eliminate EXISTS (sometimes necessary in complex queries)
sonar.issue.ignore.multicriteria.e2.ruleKey=sql:S3649
sonar.issue.ignore.multicriteria.e2.resourceKey=supabase/migrations/**

# S3972: SELECT * (sometimes needed in views and functions)
sonar.issue.ignore.multicriteria.e3.ruleKey=sql:S3972
sonar.issue.ignore.multicriteria.e3.resourceKey=supabase/migrations/**

# S3628: Too many JOIN conditions
sonar.issue.ignore.multicriteria.e4.ruleKey=sql:S3628
sonar.issue.ignore.multicriteria.e4.resourceKey=supabase/migrations/**

# Exclude migrations from duplication detection
sonar.cpd.exclusions=supabase/migrations/**

# S1656: Ignore all sql issues in migrations
sonar.issue.ignore.multicriteria.e5.ruleKey=sql:*
sonar.issue.ignore.multicriteria.e5.resourceKey=supabase/migrations/**
